#
# Cage
#
# A trap that needs to be activated
#
# substitutions:
#   color - what colour variation to use
#   requiredItem - what item is required to trigger the cage?
#

component: Entity
entityList: Usable
size: [32, 32]
children:
  - component: UsableComponent
    requiredItem: key_${color}
    children:
        - component: ScriptComponent
          name: OnUse
          script: >
              print('dart value:', props)
              props['foo'] = 'bar'
              return props
  - component: SwitchComponent
    name: State
    activeComponent: Closed
    components:
      - name: Closed
        component: SpriteComponent
        image: cage.png
        size: [40, 40]
        srcPosition: [0, 0]
        srcSize: [720, 360]
      - name: Open
        component: SpriteComponent
        image: cage.png
        size: [40, 40]
        srcPosition: [0, 360]
        srcSize: [720, 360]